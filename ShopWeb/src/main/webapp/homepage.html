<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>首页</title>
</head>
<body>

<template>
    <div>
        <el-carousel :interval="4000">
            <el-carousel-item v-for="(item, index) in carouselItems" :key="index">
                <img :src="item.imgUrl" @click="gotoDetailPage(item.id)">
            </el-carousel-item>
        </el-carousel>
        <div class="product-list">
            <div v-for="(item, index) in productList" :key="index">
                <img :src="item.imgUrl" @click="gotoDetailPage(item.id)">
                <p>{{ item.name }}</p>
                <p>{{ item.price }}</p>
            </div>
        </div>
    </div>
</template>


<script src="js/vue.js"></script>
<script src="element-ui/lib/index.js"></script>
<link rel="stylesheet" href="element-ui/lib/theme-chalk/index.css">

<script src="js/axios-0.18.0.js"></script>

<script>
    export default {
        data() {
            return {
                carouselItems: [],
                productList: []
            }
        },
        mounted() {
            axios.get('//carouselItems').then(response => {
                this.carouselItems = {response.data.data,
                };
            });

            axios.get('/api/productList').then(response => {
                this.productList = response.data;
            });
        },
        methods: {
            gotoDetailPage(id) {
                this.$router.push(`/detail/${id}`);
            }
        }
    }
</script>


</body>
</html>